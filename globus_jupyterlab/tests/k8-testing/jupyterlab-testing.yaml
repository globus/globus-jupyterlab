proxy:
  https:
    enabled: true
    hosts:
      - jupyterlab-testing.nick.globuscs.info
    letsencrypt:
      contactEmail: nick@globus.org

hub:
  config:
    # Authenticator:
      # Enable Globus Tokens in the notebooks from the hub service
      # enable_auth_state: true
    GlobusOAuthenticator:
      client_id: ""
      client_secret: ""
      oauth_callback_url: https://jupyterlab-testing.nick.globuscs.info/hub/oauth_callback
      # admin_globus_groups:
      #   - '7a346d31-3838-11ec-af8e-f561b5a488be'
      scope:
        - 'email'
        - 'profile'
        - 'openid'
    JupyterHub:
      authenticator_class: globus
  extraConfig:
    00-server-settings: |
      c.JupyterHub.tornado_settings = {'cookie_options': {'expires_days': 1}}
    20-keep-all-tokens: |
      c.OAuthenticator.exclude_tokens = []
    30-set-home-dir: |
      c.KubeSpawner.working_dir = '/home/{username}'

singleuser:
  defaultUrl: "/lab"
  extraEnv:
    JUPYTERHUB_SINGLEUSER_APP: "jupyter_server.serverapp.ServerApp"
    GLOBUS_COLLECTION_ID: "ba90d77e-c5bf-47ea-aa0d-32acbc120244"
    CHOWN_HOME: "yes"
  storage:
    type: static
    extraLabels: {}
    static:
      pvcName: nfs
      subPath: 'home/{username}'
    capacity: 10Gi
    homeMountPath: /home/{username}
  image:
    name: nsglobusautobuilds/jupyterlab-testing
    tag: latest
    pullPolicy: "Always"
  memory:
    limit: 400M
    guarantee: 200M
  cpu:
    limit: .4
    guarantee: .1
prePuller:
  hook:
    enabled: false
  continuous:
    enabled: false
